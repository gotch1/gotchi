var LT;(()=>{class e{static ABILITY_STRENGTH="strength";static ABILITY_AGILITY="agility";static ABILITY_ENDURANCE="endurance";static ABILITY_INTELLECT="intellect";static PARAM_FOOD="food";static PARAM_FUN="fun";static PARAM_HYGIENE="hygiene";static PARAM_ENERGY="energy";static PARAM_FROSEN="frosen";static PERK_DEAD="dead";abilities=new Map([[e.ABILITY_STRENGTH,0],[e.ABILITY_AGILITY,0],[e.ABILITY_ENDURANCE,0],[e.ABILITY_INTELLECT,0]]);params=new Map([[e.PARAM_FOOD,Math.floor(Date.now()/1e3+10*Math.random())+60],[e.PARAM_FUN,Math.floor(Date.now()/1e3+10*Math.random())+60],[e.PARAM_HYGIENE,Math.floor(Date.now()/1e3+10*Math.random())+60],[e.PARAM_ENERGY,Math.floor(Date.now()/1e3+10*Math.random())+60],[e.PARAM_FROSEN,0]]);constructor(){for(let e of this.abilities.keys())this.abilities.set(e,Math.floor(9*Math.random())+1)}getAbility(e){return this.abilities.get(e)}getParam(e){return this.params.get(e)}getPerk(t){let a=Math.floor(Date.now()/1e3);if(t===e.PERK_DEAD)return!(this.params.get(e.PARAM_FROSEN)>0)&&(this.params.get(e.PARAM_FOOD)<=a||this.params.get(e.PARAM_FUN)<=a||this.params.get(e.PARAM_HYGIENE)<=a||this.params.get(e.PARAM_ENERGY)<=a)}doFreeze(){if(this.getPerk(e.PERK_DEAD))return;let t=Math.floor(Date.now()/1e3),a=this.params.get(e.PARAM_FROSEN);if(0===a)this.params.set(e.PARAM_FROSEN,t);else{let s=t-a;this.params.set(e.PARAM_FOOD,this.params.get(e.PARAM_FOOD)+s),this.params.set(e.PARAM_FUN,this.params.get(e.PARAM_FUN)+s),this.params.set(e.PARAM_HYGIENE,this.params.get(e.PARAM_HYGIENE)+s),this.params.set(e.PARAM_ENERGY,this.params.get(e.PARAM_ENERGY)+s),this.params.set(e.PARAM_FROSEN,0)}}doFeed(t){if(this.getPerk(e.PERK_DEAD))return;t=Number(t);let a=this.params.get(e.PARAM_FOOD)+t;this.params.set(e.PARAM_FOOD,a),a=this.params.get(e.PARAM_ENERGY)+Math.floor(t/8),this.params.set(e.PARAM_ENERGY,a)}doPlay(t){if(this.getPerk(e.PERK_DEAD))return;t=Number(t);let a=this.params.get(e.PARAM_ENERGY)-Math.floor(t/12);this.params.set(e.PARAM_ENERGY,a),a=this.params.get(e.PARAM_FOOD)-Math.floor(t/10),this.params.set(e.PARAM_FOOD,a),a=this.params.get(e.PARAM_FUN)+t,this.params.set(e.PARAM_FUN,a)}doWash(){if(this.getPerk(e.PERK_DEAD))return;let t=Math.floor(Date.now()/1e3),a=100-(this.params.get(e.PARAM_HYGIENE)-t);this.params.set(e.PARAM_ENERGY,this.params.get(e.PARAM_ENERGY)+Math.floor(a/16)),this.params.set(e.PARAM_FUN,this.params.get(e.PARAM_FUN)-Math.floor(a/6)),this.params.set(e.PARAM_HYGIENE,this.params.get(e.PARAM_HYGIENE)+a)}doGoToBed(t){if(this.getPerk(e.PERK_DEAD))return;t=Number(t);let a=this.params.get(e.PARAM_ENERGY)+t;this.params.set(e.PARAM_ENERGY,a),a=this.params.get(e.PARAM_FOOD)-Math.floor(t/3),this.params.set(e.PARAM_FOOD,a)}}let t=null;var a;function s(){t=setTimeout(n,1e3)}function i(){t&&(clearTimeout(t),t=null)}function n(){if(o(),r())return void i();if(A())return void i();let t=a.getParam(e.PARAM_FOOD)-Math.floor(Date.now()/1e3);t>=30&&t<31&&bulmaToast.toast({message:"Feed your pet",type:"is-warning"}),t=a.getParam(e.PARAM_FUN)-Math.floor(Date.now()/1e3),t>=30&&t<31&&bulmaToast.toast({message:"Play with your pet",type:"is-warning"}),t=a.getParam(e.PARAM_HYGIENE)-Math.floor(Date.now()/1e3),t>=30&&t<31&&bulmaToast.toast({message:"Wash your pet",type:"is-warning"}),t=a.getParam(e.PARAM_ENERGY)-Math.floor(Date.now()/1e3),t>=30&&t<31&&bulmaToast.toast({message:"Put your pet to bed",type:"is-warning"}),s()}function r(){return a?!!a.getPerk(e.PERK_DEAD)&&(document.getElementById("prDead1").checked=!0,bulmaToast.toast({message:"Your pet is dead",type:"is-danger"}),!0):(bulmaToast.toast({message:"Create your pet to start",type:"is-info"}),!0)}function o(){document.getElementById("slFood").value=m(a.getParam(e.PARAM_FOOD)),document.getElementById("slFun").value=m(a.getParam(e.PARAM_FUN)),document.getElementById("slHygiene").value=m(a.getParam(e.PARAM_HYGIENE)),document.getElementById("slEnergy").value=m(a.getParam(e.PARAM_ENERGY))}function m(e){let t=e-Math.floor(Date.now()/1e3);return t>100?t=100:t<0&&(t=0),t}function A(){return a.getParam(e.PARAM_FROSEN)>0}bulmaToast.setDefaults({duration:5e3,position:"bottom-left",dismissible:!0,animate:{in:"zoomIn",out:"zoomOut"}}),document.getElementById("bCreate1").addEventListener("click",(()=>(i(),document.getElementById("prDead1").checked=!1,document.getElementById("prFreeze1").checked=!1,a=new e,document.getElementById("prStrength1").value=a.getAbility(e.ABILITY_STRENGTH),document.getElementById("prDexterity1").value=a.getAbility(e.ABILITY_AGILITY),document.getElementById("prStamina1").value=a.getAbility(e.ABILITY_ENDURANCE),document.getElementById("prIntellect1").value=a.getAbility(e.ABILITY_INTELLECT),o(),void s()))),document.getElementById("bFreeze1").addEventListener("click",(()=>{r()||(a.doFreeze(),A()?i():(s(),o()),document.getElementById("prFreeze1").checked=A())})),document.getElementById("bFeed1").addEventListener("click",(()=>{r()||document.getElementById("mFeed").classList.add("is-active")})),document.getElementById("bFeedFeed").addEventListener("click",(()=>function(){if(r())return;let e=document.getElementById("iFood").value;e&&e>=1&&e<=600?(a.doFeed(e),o()):bulmaToast.toast({message:"Enter <b>amount</b> in [1, 600]",type:"is-danger"}),document.getElementById("mFeed").classList.remove("is-active")}())),document.getElementById("bPlay1").addEventListener("click",(()=>{r()||document.getElementById("mPlay").classList.add("is-active")})),document.getElementById("bPlayPlay").addEventListener("click",(()=>function(){if(r())return;let e=document.getElementById("iPlay").value;e&&e>=1&&e<=600?(a.doPlay(e),o()):bulmaToast.toast({message:"Enter <b>amount</b> in [1, 600]",type:"is-danger"}),document.getElementById("mPlay").classList.remove("is-active")}())),document.getElementById("bWash1").addEventListener("click",(()=>{r()||(a.doWash(),o())})),document.getElementById("bSleep1").addEventListener("click",(()=>{r()||document.getElementById("mSleep").classList.add("is-active")})),document.getElementById("bSleepSleep").addEventListener("click",(()=>function(){if(r())return;let e=document.getElementById("iSleep").value;e&&e>=1&&e<=600?(a.doGoToBed(e),o()):bulmaToast.toast({message:"Enter <b>amount</b> in [1, 600]",type:"is-danger"}),document.getElementById("mSleep").classList.remove("is-active")}())),LT={}})();